{% load static %}
<div class="navigation--list">
    <div class="navigation__content">
        <a class="navigation__item ps-toggle--sidebar" href="#menu-mobile">
            <i class="icon-menu"></i><span> Menu</span>
        </a>
        <a class="navigation__item ps-toggle--sidebar" href="#navigation-mobile">
            <i class="icon-list4"></i><span> Categories</span>
        </a>
        <a class="navigation__item ps-toggle--sidebar" href="#search-sidebar">
            <i class="icon-magnifier"></i><span> Search</span>
        </a>
        <a class="navigation__item ps-toggle--sidebar" href="#cart-mobile">
            <i class="icon-bag2"></i><span> Cart</span>
        </a>
    </div>
</div>

<div class="ps-panel--sidebar" id="navigation-mobile">
    <div class="ps-panel__header">
        <h3>Categories</h3>
    </div>
    <div class="ps-panel__content">
        <div class="menu--product-categories">
            <div class="menu__toggle"><i class="icon-menu"></i><span> Shop by Department</span></div>
            <div class="menu__content">
                <ul class="menu--mobile">
                    {% for category in categories %}
                        {% if not category.parent %}
                            <li class="{% if category.children.all %}menu-item-has-children has-mega-menu{% endif %}">
                                <a href="{{ category.get_absolute_url }}">{{ category.name }}</a>
                                {% if category.children.all %}
                                    <span class="sub-toggle"></span>
                                    <div class="mega-menu">
                                        <div class="mega-menu__column">
                                            <h4>{{ category.name }}<span class="sub-toggle"></span></h4>
                                            <ul class="mega-menu__list">
                                                {% for child in category.children.all %}
                                                    <li><a href="{{ child.get_absolute_url }}">{{ child.name }}</a></li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    </div>
                                {% endif %}
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="ps-panel--sidebar" id="menu-mobile">
    <div class="ps-panel__header">
        <h3>Menu</h3>
    </div>
    <div class="ps-panel__content">
        <ul class="menu--mobile">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'product_list' %}">Shop</a></li>
            <li><a href="">About Us</a></li>
            <li><a href="">Contact</a></li>
            <li><a href="">Blog</a></li>
        </ul>
    </div>
</div>

<div class="ps-panel--sidebar" id="search-sidebar">
    <div class="ps-panel__header">
        <form class="ps-form--search-mobile" action="{% url 'product_list' %}" method="get">
            <div class="form-group--nest">
                <input class="form-control" type="text" name="q" placeholder="Search something...">
                <button type="submit"><i class="icon-magnifier"></i></button>
            </div>
        </form>
    </div>
    <div class="navigation__content"></div>
</div>